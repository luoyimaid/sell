webpackJsonp([1],{B0BI:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},n,!1,function(t){a("V1rz")},null,null).exports,o=a("/ocq"),r=a("woOf"),l=a.n(r),c=a("mtWM"),d=a.n(c),u=a("NC6I"),p=a.n(u),v=new Date;function m(){var t=new FormData,e=function(t){for(var e="",a=0;a<t;a++)e+=Math.floor(10*Math.random());return e}(10),a=v.getTime();return t.append("login_name","admin"),t.append("salt",e),t.append("timestamp",a),t.append("sign",p()("login_nameadminsalt"+e+"timestamp"+a+"robokit123#")),t}var _={name:"HelloWorld",data:function(){return{list:[]}},methods:{toLogin:function(){var t=this,e=document.getElementsByClassName("input");if("admin"===e[0].value&&"robokit123#"===e[1].value){var a=m();a.append("req","list"),d.a.post(" http://yq01-rp-nlp-rd0-b33aa.yq01.baidu.com:8080/durobot/v2/controlaccount",a).then(function(e){t.list=l()([],e.data.data)}).catch(function(t){console.log(t)}),this.$router.push({path:"/Function"})}else alert("用户名或密码错误！")}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("h2",[this._v("内测在此登录")]),this._v(" "),this._m(0),this._v(" "),e("input",{staticClass:"submit",attrs:{type:"button",value:"提交"},on:{click:this.toLogin}})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login"},[e("label",{staticClass:"content"},[this._v("\n      用户名\n      "),e("input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入用户名"}})]),this._v(" "),e("label",{staticClass:"content"},[this._v("\n      密   码\n      "),e("input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入正确的密码"}})])])}]};var f=a("VU/8")(_,h,!1,function(t){a("kUPb")},"data-v-7164420d",null).exports,g=new Date;function y(t){return t<10&&(t="0"+t),t}function b(t){var e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate(),n=t.getHours(),i=t.getMinutes(),o=t.getSeconds();return e+"-"+y(a)+"-"+y(s)+" "+y(n)+":"+y(i)+":"+y(o)}function C(){var t=new FormData,e=function(t){for(var e="",a=0;a<t;a++)e+=Math.floor(10*Math.random());return e}(10),a=g.getTime();return t.append("login_name","admin"),t.append("salt",e),t.append("timestamp",a),t.append("sign",p()("login_nameadminsalt"+e+"timestamp"+a+"robokit123#")),t}var w={data:function(){return{list:[],selectedList:{},select:""}},methods:{judgeRepeat:function(){for(var t=document.getElementsByClassName("reminder"),e=0;e<this.list.length;e++)this.list[e].account===document.getElementsByClassName("addUser")[0].value&&(t[0].style.color="red")},getUserInfo:function(){var t=this,e=C();e.append("req","list"),d.a.post("http://yq01-rp-nlp-rd0-b33aa.yq01.baidu.com:8080/durobot/v2/controlaccount",e).then(function(e){t.list=l()([],e.data.data),console.log(e.data);for(var a=0;a<e.data.data.length;a++)t.list[a].start_timestamp=b(new Date(e.data.data[a].start_timestamp)),t.list[a].end_timestamp=b(new Date(e.data.data[a].end_timestamp))}).catch(function(t){console.log(t)})},addUserInfo:function(){var t=this,e=document.getElementsByClassName("reminder"),a=document.getElementsByClassName("addUser"),s=a[0].value,n=a[1].value,i=a[3].value,o=a[4].value,r=C();if(r.append("req","add"),r.append("account",a[0].value),r.append("password",a[1].value),r.append("start_timestamp",new Date(a[3].value).getTime()),r.append("end_timestamp",new Date(a[4].value).getTime()),/^[A-Za-z0-9]{6,16}$/.test(a[1].value))if(a[2].value!==a[1].value)e[2].style.color="red",e[1].style.color="#ccc",e[4].style.color="#ccc";else if(new Date(a[4].value).getTime()<=new Date(a[3].value).getTime())e[1].style.color="#ccc",e[2].style.color="#ccc",e[4].style.color="red";else{for(var l=function(e){if(t.list[e].account===a[0].value){var s=C();s.append("req","delete"),s.append("account",t.list[e].account),d.a.post("http://yq01-rp-nlp-rd0-b33aa.yq01.baidu.com:8080/durobot/v2/controlaccount",s).then(function(a){console.log(a.data),t.list.splice(e,1)}).catch(function(t){console.log(t)})}},c=0;c<this.list.length;c++)l(c);d.a.post("http://yq01-rp-nlp-rd0-b33aa.yq01.baidu.com:8080/durobot/v2/controlaccount",r).then(function(r){console.log(r.data),t.list.push({account:s,password:n,start_timestamp:i,end_timestamp:o});for(var l=0;l<a.length-2;l++)a[l].value="";for(var c=0;c<e.length;c++)e[c].style.color="#ccc"}).catch(function(t){console.log(t)})}else e[1].style.color="red",e[2].style.color="#ccc",e[4].style.color="#ccc"},editUserInfo:function(t){this.select=t;var e=document.getElementsByClassName("setUser");e[0].value=this.list[t].account,e[1].value=this.list[t].password,e[2].value=this.list[t].start_timestamp,e[3].value=this.list[t].end_timestamp,document.getElementById("editPage").style.display="block"},deleteUserInfo:function(t){var e=this,a=C();a.append("req","delete"),a.append("account",this.list[t].account),d.a.post("http://yq01-rp-nlp-rd0-b33aa.yq01.baidu.com:8080/durobot/v2/controlaccount",a).then(function(a){console.log(a.data),e.list.splice(t,1)}).catch(function(t){console.log(t)})},editConfirm:function(){var t=this,e=document.getElementsByClassName("setUser"),a=(e[0].value,e[1].value),s=e[2].value,n=e[3].value,i=C();if(i.append("req","update"),i.append("account",t.list[t.select].account),i.append("start_timestamp",new Date(s).getTime()),i.append("end_timestamp",new Date(n).getTime()),d.a.post("http://yq01-rp-nlp-rd0-b33aa.yq01.baidu.com:8080/durobot/v2/controlaccount",i).then(function(e){console.log(e.data),t.list[t.select].start_timestamp=s,t.list[t.select].end_timestamp=n}).catch(function(t){console.log(t)}),t.list[t.select].password!==a){var o=C();o.append("req","reset_password"),o.append("account",t.list[t.select].account),o.append("password",a),d.a.post("http://yq01-rp-nlp-rd0-b33aa.yq01.baidu.com:8080/durobot/v2/controlaccount",o).then(function(e){console.log(e.data),t.list[t.select].password=a}).catch(function(t){console.log(t)})}document.getElementById("editPage").style.display="none"}},created:function(){this.getUserInfo()},mounted:function(){function t(t){var e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate(),n=t.getHours(),i=t.getMinutes(),o=t.getSeconds();return e+"-"+y(a)+"-"+y(s)+"T"+y(n)+":"+y(i)+":"+y(o)}document.getElementById("add_effective_time").value=t(g),document.getElementById("add_expiry_time").value=t(g),console.log(t(g))}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h4",{staticStyle:{"margin-bottom":"20px"}},[t._v("添加新用户信息")]),t._v(" "),a("div",{staticClass:"addUsers clearfix"},[a("div",[a("span",[t._v("添加新用户名")]),t._v(" "),a("input",{staticClass:"addUser",attrs:{type:"text",placeholder:"用户名"},on:{blur:t.judgeRepeat}}),t._v(" "),a("span",{staticClass:"reminder"},[t._v("(用户名必须为邮箱前缀且不能重复添加)")])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)]),t._v(" "),a("input",{staticClass:"addButton",attrs:{type:"button",value:"提交"},on:{click:t.addUserInfo}}),t._v(" "),a("h4",{staticStyle:{margin:"100px auto 20px"}},[t._v("历史添加记录")]),t._v(" "),a("div",{staticClass:"userInfo"},[a("table",{attrs:{width:"100%",border:"1px solid white"}},[t._m(4),t._v(" "),a("tbody",t._l(t.list,function(e,s){return a("tr",[a("td",[t._v(t._s(e.account))]),t._v(" "),a("td",[t._v(t._s(e.start_timestamp))]),t._v(" "),a("td",[t._v(t._s(e.end_timestamp))]),t._v(" "),a("td",[a("input",{attrs:{type:"button",value:"编辑"},on:{click:function(e){t.editUserInfo(s)}}}),t._v(" "),a("input",{attrs:{type:"button",value:"删除"},on:{click:function(e){t.deleteUserInfo(s)}}})])])}))])]),t._v(" "),a("div",{staticClass:"editPage",attrs:{id:"editPage"}},[t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),a("input",{staticClass:"addButton",attrs:{type:"button",value:"确定"},on:{click:t.editConfirm}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("设置用户密码")]),this._v(" "),e("input",{staticClass:"addUser",attrs:{type:"password",placeholder:"设置用户密码"}}),this._v(" "),e("span",{staticClass:"reminder"},[this._v("(密码为6-16位数字或字母组合)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("重复用户密码")]),this._v(" "),e("input",{staticClass:"addUser",attrs:{type:"password",placeholder:"重复用户密码"}}),this._v(" "),e("span",{staticClass:"reminder"},[this._v("(密码与设置密码一致)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("选择生效日期")]),this._v(" "),e("input",{staticClass:"addUser",attrs:{type:"datetime-local",name:"expiry_user_date",id:"add_effective_time"}}),this._v(" "),e("span",{staticClass:"reminder"},[this._v("(默认为当前时间,可自行选择)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("选择失效日期")]),this._v(" "),e("input",{staticClass:"addUser",attrs:{type:"datetime-local",name:"expiry_user_date",id:"add_expiry_time"}}),this._v(" "),e("span",{staticClass:"reminder"},[this._v("(失效时间必须在生效时间之后)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("td",[this._v("用户名")]),this._v(" "),e("td",[this._v("生效日期")]),this._v(" "),e("td",[this._v("失效日期")]),this._v(" "),e("td",[this._v("操作")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("用     户     名")]),this._v(" "),e("input",{staticClass:"setUser",attrs:{type:"text",placeholder:"用户名"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("更改用户密码")]),this._v(" "),e("input",{staticClass:"setUser",attrs:{type:"password",placeholder:"设置用户密码"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("选择生效日期")]),this._v(" "),e("input",{staticClass:"setUser",attrs:{type:"text",name:"effective_user_date"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("选择失效日期")]),this._v(" "),e("input",{staticClass:"setUser",attrs:{type:"text",name:"expiry_user_date"}})])}]};var E=a("VU/8")(w,U,!1,function(t){a("B0BI")},"data-v-48e137f6",null).exports;s.default.use(o.a);var q=new o.a({routes:[{path:"/",name:"HelloWorld",component:f},{title:"增删改查的功能页",path:"/Function",name:"Function",component:E}]}),x=(a("sVYa"),a("uk03"),a("Au9i")),B=a.n(x);a("d8/S");s.default.prototype.$axios=d.a,s.default.use(B.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:q,components:{App:i},template:"<App/>"})},V1rz:function(t,e){},"d8/S":function(t,e){},kUPb:function(t,e){},uk03:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.1fc76ae99d951369239f.js.map